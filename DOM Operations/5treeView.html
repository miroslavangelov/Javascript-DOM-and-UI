<!doctype html>
<html>
<head>
<meta charset="utf-8" />
<title>Tree View</title>
<style>
	a + ul {
		display: none;
	}
</style>
</head>
<body>
	<ul>
		<li>
			<a href="#">Item 1</a>
				<ul class="main">
					<li>
						<a href="#">SubItem 1</a>
							<ul>
								<li>SubSubItem 1</li>
								<li>SubSubItem 2</li>
								<li>SubSubItem 3</li>
							</ul>
					</li>
					<li>
						<a href="#">SubItem 2</a>
							<ul>
								<li>SubSubItem 1</li>
								<li>SubSubItem 2</li>
								<li>SubSubItem 3</li>
							</ul>
					</li>
					<li>
						<a href="#">SubItem 3</a>
							<ul>
								<li>SubSubItem 1</li>
								<li>SubSubItem 2</li>
								<li>SubSubItem 3</li>
							</ul>
					</li>
				</ul>
		</li>
		<li>
			<a href="#">Item 2</a>
				<ul class="main">
					<li>
						<a href="#">SubItem 1</a>
							<ul>
								<li>SubSubItem 1</li>
								<li>SubSubItem 2</li>
								<li>SubSubItem 3</li>
							</ul>
					</li>
					<li>
						<a href="#">SubItem 2</a>
							<ul>
								<li>SubSubItem 1</li>
								<li>SubSubItem 2</li>
								<li>SubSubItem 3</li>
							</ul>
					</li>
					<li>
						<a href="#">SubItem 3</a>
							<ul>
								<li>SubSubItem 1</li>
								<li>SubSubItem 2</li>
								<li>SubSubItem 3</li>
							</ul>
					</li>
				</ul>
		</li>
		<li>
			<a href="#">Item 3</a>
				<ul class="main">
					<li>
						<a href="#">SubItem 1</a>
						<ul>
								<li>SubSubItem 1</li>
								<li>SubSubItem 2</li>
								<li>SubSubItem 3</li>
						</ul>
					</li>
					<li>
						<a href="#">SubItem 2</a>
							<ul>
								<li>SubSubItem 1</li>
								<li>SubSubItem 2</li>
								<li>SubSubItem 3</li>
							</ul>
					</li>
					<li>
						<a href="#">SubItem 3</a>
							<ul>
								<li>SubSubItem 1</li>
								<li>SubSubItem 2</li>
								<li>SubSubItem 3</li>
							</ul>
					</li>
				</ul>
		</li>
	</ul>
<script>
	var ahref = document.getElementsByTagName("a");
	for (var i = 0, len = ahref.length; i < len; i++) {
		ahref[i].addEventListener("click", function () {
			var sibl = this.nextElementSibling;
			if (sibl.style.display !== "block") {
				sibl.style.display = "block";
			}
			else {
				if (sibl.className == "main") {
					for (var j = 0, len1 = sibl.children.length; j < len1; j++) {
						if (sibl.children[j].children[1].style.display == "") {
							continue;
						}
						if (sibl.children[j].children[1].style.display !== "none") {
							sibl.children[j].children[1].style.display = "none";
						}
					}
				}
				sibl.style.display = "none";
			}
		});
	}
</script>
</body>
</html>