<!doctype html>
<html>
<head>
<meta charset="utf-8" />
<title>Tree View</title>
<style>
	a + ul {
		display: none;
	}
</style>
</head>
<body>
	<ul>
		<li>
			<a href="#">Item 1</a>
				<ul class="main">
					<li>
						<a href="#">SubItem 1</a>
							<ul class="nested">
								<li>SubSubItem 1</li>
								<li>SubSubItem 2</li>
								<li>SubSubItem 3</li>
							</ul>
					</li>
					<li>
						<a href="#">SubItem 2</a>
							<ul class="nested">
								<li>SubSubItem 1</li>
								<li>SubSubItem 2</li>
								<li>SubSubItem 3</li>
							</ul>
					</li>
					<li>
						<a href="#">SubItem 3</a>
							<ul class="nested">
								<li>SubSubItem 1</li>
								<li>SubSubItem 2</li>
								<li>SubSubItem 3</li>
							</ul>
					</li>
				</ul>
		</li>
	</ul>
<script>
	var getNested = document.getElementsByTagName("a");
	for (var i = 0, len = getNested.length; i < len; i++) {
		getNested[i].addEventListener("click", function () {
			var sibl = this.nextElementSibling;
			
			if (sibl.style.display !== "block") {
				sibl.style.display = "block";
			}
			else {
				if (sibl.className === "main") {
					var getElem = document.getElementsByClassName("nested");
					for (var j = 0, len1 = getElem.length; j < len1; j++) {
					if (getElem[j].style.display == "") {
						continue;
					}
					if (getElem[j].style.display !== "none") {
						getElem[j].style.display = "none";
					}
		
					
					}
				}
				sibl.style.display = "none";
			}
		});
	}


	

</script>
</body>
</html>